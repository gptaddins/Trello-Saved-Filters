<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Filters Settings</title>
  <script src="https://p.trellocdn.com/power-up.min.js"></script>
  <style>
    body { margin: 0; padding: 10px; font-family: Arial, sans-serif; width: 300px; }
    #search-bar { width: 100%; padding: 5px; margin-bottom: 10px; }
    #presets, #results { list-style: none; padding: 0; }
    li { margin: 5px 0; padding: 5px; border: 1px solid #ccc; }
    .preset { cursor: pointer; color: blue; }
    button { margin-left: 5px; }
  </style>
</head>
<body>
  <input type="text" id="search-bar" placeholder="Search (e.g., label:red due:overdue)" value="">
  <button id="apply">Apply</button>
  <button id="save">Save Preset</button>
  <h3>Saved Presets</h3>
  <ul id="presets"></ul>
  <h3>Results (Live)</h3>
  <ul id="results"></ul>

  <script>
    var t = window.TrelloPowerUp.iframe({
      appKey: '72d09526a2855680e12a04e38b04637c',
      appName: 'Saved Filters',
      appAuthor: 'GPT AddIns'
    });

    // Load initial query from args or storage
    var initialQuery = t.arg('query') || '';
    document.getElementById('search-bar').value = initialQuery;

    // Load and display presets
    t.get('board', 'private', 'presets', []).then(function(presets) {
      var presetsList = document.getElementById('presets');
      presets.forEach(function(preset, index) {
        var li = document.createElement
